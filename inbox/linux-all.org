#+title: linux 命令
* inbox
** lsof (list open file,linux上所有东西视作文件)
+ lsof -i:port 
** time 后面跟命令，统计这个命令执行系统耗费的时间
** 了解一台机器 
*** 磁盘
#+BEGIN_SRC sh
  #查看磁盘大小和使用情况
  df -hl
#+END_SRC
**** 常见磁盘 
 1. fd：软驱 
 2. hd：IDE 磁盘
 3. sd：SCSI 磁盘
 4. tty：terminals 
 6. vd：virtio 磁盘 虚拟机磁盘
*** 查看各用户使用存储空间的大小
#+BEGIN_SRC sh
  # -s means only give a summarize
  du -sh /home/*
#+END_SRC
*** 查看linux内核信息
#+BEGIN_SRC sh
  uname －a 
#+END_SRC
*** 查看操作系统版本信息？
#+BEGIN_SRC sh
  cat /proc/version
#+END_SRC
*** 查看操作系统发行版信息?
#+BEGIN_SRC sh
  cat /etc/issue
#+END_SRC
*** cpu info
#+BEGIN_SRC sh
  #查询系统具有多少个逻辑核：
  cat /proc/cpuinfo | grep "processor" | wc -l

  #查询系统CPU的物理核数：
  cat /proc/cpuinfo | grep "cpu cores" | uniq

  #查询系统CPU是否启用超线程：
  cat /proc/cpuinfo | grep -e "cpu cores"  -e "siblings" | sort | uniq
#+END_SRC
** how to kill a program
[[https://itsfoss.com/how-to-find-the-process-id-of-a-program-and-kill-it-quick-tip/][参考]]
*** find pid by name
1. pidof
2. ps -aux |grep -i 'music'
*** kill 
1. kill -9
2. kill -9 `pidof pname`
** 分析内存占用
* 网络测试
** 找出两台机器的可用带宽
*** nc 接收
netcat
#+begin_example
nc -l 5001 > /dev/null 
-l : 接收下一次tcp连接
#+end_example
*** dd 发送
转换或拷贝数据
#+BEGIN_SRC sh
  #发往本机10G的数据
  dd if=/dev/zero bs=1MB count=10000 | nc localhost 5001

#+END_SRC
*** 测试结果
#+begin_example
10000+0 records in
10000+0 records out
10000000000 bytes (10 GB, 9.3 GiB) copied, 11.4357 s, 874 MB/s
#+end_example
* arch
** 装机
*** 分区，用cfdisk
*** 格式化
**** 引导分区-EFI system 的格式化
#+BEGIN_SRC sh
  mkfs.fat -F32 /dev/<partion>

#+END_SRC
*** 挂载
规划
*** 装服务
*** passwd 123
*** 安装过程中不识别ide硬盘，
改为achi模式，又导致window不能正常启动
[[https://itbbs.pconline.com.cn/diy/52883973.html][参考]]
如何获得管理员权限 [[https://www.zhihu.com/question/34471559][参考]]
*** 安装过程中可以联网，装完以后不能联网
1. 使用arch引导，安装dhcp
2. 由于引导盘中没有保留fstab，所以要进入已安装的系统，要手动mount一遍
3. 安装dhcpcd
4. 重启，打开archlinux 动态获取ip
5. ping
** 空投
1. [[https://blog.csdn.net/superstar_zbt/article/details/100883570][pacman 404]]
* vim
宏录制
#+BEGIN_SRC sh
  # start
  q a
  # do somthing
  v 用来选取内容
  C-o 回到上一个位置
  # end
  q
  # replay
  @a

#+END_SRC
* 应用
** scrot
截屏用 [[https://blog.csdn.net/zhyh1986/article/details/39831469][参考]]


